!function(a){({showLogs:!1,round:1e3,init:function(){if(this._log("init"),this._inited)return this._log("Already Inited"),void(this._inited=!0);this._requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a,t){window.setTimeout(a,1e3/60)},this._onScroll(!0)},_inited:!1,_properties:["x","y","z","rotateX","rotateY","rotateZ","scaleX","scaleY","scaleZ","scale","blur","opacity"],_requestAnimationFrame:null,_log:function(a){this.showLogs&&console.log("Parallax Scroll / "+a)},_onScroll:function(t){var e=a(document).scrollTop(),l=a(window).height();this._log("onScroll "+e),a("[data-parallax]").each(a.proxy(function(n,r){var s=a(r),i=[],o=!1,c=s.data("style");null==c&&(c=s.attr("style")||"",s.data("style",c));var u,d=[s.data("parallax")];for(u=2;s.data("parallax"+u);u++)d.push(s.data("parallax"+u));var m=d.length;for(u=0;u<m;u++){var p=d[u],h=p["from-scroll"];null==h&&(h=Math.max(0,a(r).offset().top-l)),h|=0;var v=p.distance,w=p["to-scroll"];null==v&&null==w&&(v=l),v=Math.max(0|v,1);var f=p.easing,y=p["easing-return"];if(null!=f&&a.easing&&a.easing[f]||(f=null),null!=y&&a.easing&&a.easing[y]||(y=f),f){var g=p.duration;null==g&&(g=v),g=Math.max(0|g,1);var x=p["duration-return"];null==x&&(x=g),v=1;var _=s.data("current-time");null==_&&(_=0)}null==w&&(w=h+v),w|=0;var b=p.smoothness;null==b&&(b=30),b|=0,(t||0==b)&&(b=1),b|=0;var A=e;A=Math.max(A,h),A=Math.min(A,w),f&&(null==s.data("sens")&&s.data("sens","back"),A>h&&("back"==s.data("sens")?(_=1,s.data("sens","go")):_++),A<w&&("go"==s.data("sens")?(_=1,s.data("sens","back")):_++),t&&(_=g),s.data("current-time",_)),this._properties.map(a.proxy(function(t){var e=0,l=p[t];if(null!=l){"scale"==t||"scaleX"==t||"scaleY"==t||"scaleZ"==t||"opacity"==t?e=1:l|=0;var n=s.data("_"+t);null==n&&(n=e);var r=(A-h)/(w-h)*(l-e)+e,c=n+(r-n)/b;if(f&&_>0&&_<=g){var u=e;"back"==s.data("sens")&&(u=l,l=-l,f=y,g=x),c=a.easing[f](null,_,u,l,g)}(c=Math.ceil(c*this.round)/this.round)==n&&r==l&&(c=l),i[t]||(i[t]=0),i[t]+=c,n!=i[t]&&(s.data("_"+t,i[t]),o=!0)}},this))}if(o){if(null!=i.z){var X=p.perspective;null==X&&(X=800);var Y=s.parent();Y.data("style")||Y.data("style",Y.attr("style")||""),Y.attr("style","perspective:"+X+"px; -webkit-perspective:"+X+"px; "+Y.data("style"))}null==i.scaleX&&(i.scaleX=1),null==i.scaleY&&(i.scaleY=1),null==i.scaleZ&&(i.scaleZ=1),null!=i.scale&&(i.scaleX*=i.scale,i.scaleY*=i.scale,i.scaleZ*=i.scale);var Z="translate3d("+(i.x?i.x:0)+"px, "+(i.y?i.y:0)+"px, "+(i.z?i.z:0)+"px)"+" "+("rotateX("+(i.rotateX?i.rotateX:0)+"deg) rotateY("+(i.rotateY?i.rotateY:0)+"deg) rotateZ("+(i.rotateZ?i.rotateZ:0)+"deg)")+" "+("scaleX("+i.scaleX+") scaleY("+i.scaleY+") scaleZ("+i.scaleZ+")")+";";this._log(Z);var q="";if(null!=i.blur){var F="blur("+i.blur+"px);";q="filter:"+F+" -webkit-filter:"+F}var k="";null!=i.opacity&&(k="opacity:"+i.opacity+";"),s.attr("style","transform:"+Z+" -webkit-transform:"+Z+" "+q+" "+k+" "+c)}},this)),window.requestAnimationFrame?window.requestAnimationFrame(a.proxy(this._onScroll,this,!1)):this._requestAnimationFrame(a.proxy(this._onScroll,this,!1))}}).init()}(jQuery);